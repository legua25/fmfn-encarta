{% extends 'base/base.html' %}
{% load i18n widget_tweaks %}

	{% block title %}{% trans 'Edit User' %}{% endblock title %}
	{% block content %}
		<nav class="navbar navbar-static-top navbar-inverse"></nav>
		<main id="content" class="row-fluid">
			<div class="container-fluid">
				<section class="col-xs-8 col-xs-offset-2">
					<div class="panel panel-default">
						<div class="panel-heading">
							<h3>{% blocktrans with u.email_address as email %}Edit User Account for {{ email }}{% endblocktrans %}</h3>
						</div>
						<div class="panel-body">{% if form.non_field_errors %}{% for error in form.non_field_errors %}
							<div class="alert alert-danger">{{ error }}</div>{% endfor %}{% endif %}
							<form action="{% url 'users:edit' user_id %}" enctype="multipart/form-data" method="post">
								{% csrf_token %}
								<div id="basic" class="container-fluid">
									<h4>{% trans 'Public Profile' %}</h4>
									<div id="user-photo" class="col-xs-6 form-group">{{ form.photo | add_class:'form-control' }}</div>
									<div id="user-password" class="col-xs-6 form-group">
										{{ form.password | add_class:'form-control' | attr:'required' }}<br />
										{{ form.repeat | add_class:'form-control' | attr:'required' }}
									</div>
								</div>{% if form.is_managed %}
								<div id="advanced" class="container-fluid">
									<h4>{% trans 'Advanced...' %}</h4>
									<div id="user-email" class="form-group col-xs-6">{{ form.email_address | add_class:'form-control' }}</div>
									<div id="user-name" class="form-group col-xs-6">
										{{ form.first_name | add_class:'form-control' }}<br />
										{{ form.father_family_name | add_class:'form-control' }}<br />
										{{ form.mother_family_name | add_class:'form-control' }}
									</div>
									<div class="form-group col-xs-12">{{ form.campus | add_class:'form-control' }}</div>
									<div id="user-roles" class="col-xs-5 navbar navbar-default">
										<ul id="id_role" class="nav nav-pills nav-stacked">{% for role in form.fields.role.choices %}
											<li>
												<a href="#">
													<label for="id_role_{{ forloop.counter }}" class="checkbox">
														<input type="radio" id="id_role_{{ forloop.counter }}" name="role" value="{{ role.0 }}"{% if role.0 == form.role.value %} checked{% endif %} />
														{% blocktrans with role.1|title as name %}{{ name }}{% endblocktrans %}
													</label>
												</a>
											</li>{% endfor %}
										</ul>
									</div>
									<div id="user-grades" class="col-xs-5 col-xs-offset-2 navbar navbar-default">
										<ul id="id_grades" class="nav nav-pills nav-stacked">{% for grade in form.fields.grades.choices %}
											<li>
												<a href="#">
													<label for="id_grades_{{ forloop.counter }}" class="checkbox">
														<input type="checkbox" id="id_grades_{{ forloop.counter }}" name="grades" value="{{ grade.0 }}"{% if grade.0 in form.grades.value %} checked{% endif %} />
														{% blocktrans with grade.1|title as name %}{{ name }}{% endblocktrans %}
													</label>
												</a>
											</li>{% endfor %}
										</ul>
									</div>
								</div>{% endif %}
								<div class="col-xs-10 col-xs-offset-1 col-md-2 col-md-offset-5">
									<button class="btn btn-primary" type="submit">{% trans 'Save' %}</button>
								</div>
							</form>
						</div>
					</div>
				</section>
			</div>
		</main>
	{% endblock content %}
